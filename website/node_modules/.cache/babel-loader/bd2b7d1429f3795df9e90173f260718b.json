{"ast":null,"code":"const axios = require('axios');\n\nexport class Sled {\n  constructor() {\n    this.gifts = [];\n    this.isDelivering = false;\n  }\n\n  isTooHeavy(gift) {\n    let sum = 0;\n\n    for (let i = 0; i < this.gifts.length; i++) {\n      sum += this.gifts[i].weight;\n    }\n\n    sum += gift.weight;\n\n    if (sum <= 12) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  displaySled() {\n    let str = \"\";\n\n    for (let i = 0; i < this.gifts.length; i++) {\n      str += \"<li> Gift \" + (i + 1) + \" : \" + this.gifts[i].constructor.name + \"</li>\";\n    }\n\n    return str;\n  }\n\n  async deliver() {\n    this.isDelivering = true;\n\n    try {\n      let test = await axios.post('http://localhost:8081', {\n        gifts: this.gifts\n      });\n      console.log(test);\n    } catch (err) {} // axios.post('http://localhost:8081', {\n    //         gifts: this.sled.gifts\n    //     })\n    //     .then(function () {\n    //         this.gifts = []\n    //         $('#Sled').html(\"\")\n    //         this.isDelivering = false;\n    //         return this.message = \"Gifts have been delivered\"\n    //     })\n    //     .catch(function () {\n    //         isDelivering = false;\n    //         return this.message = \"These stupids reindeers are hungry, try again !\"\n    //     });\n\n  }\n\n} //     if (!this.isDelivering) {\n//         if (this.gifts.length > 0) {\n//             this.isDelivering = true;\n//             axios.post('http://localhost:8081', {\n//                     gifts: this.gifts\n//                 })\n//                 .then(function () {\n//                     this.gifts = []\n//                     $('#Sled').html(\"\")\n//                     $('#Result').html(\"Gifts have been delivered\")\n//                     this.isDelivering = false;\n//                 })\n//                 .catch(function () {\n//                     isDelivering = false;\n//                     $('#Result').html(\"These stupids reindeers are hungry, try again !\")\n//                 });\n//         } else {\n//             $('#Result').html(\"Sled empty\")\n//         }\n//     } else {\n//         $('#Result').html(\"Reindeers are delivering !\")\n//     }}","map":{"version":3,"sources":["/Users/antoinemassy/Desktop/A3/TechnoWebAdv/lab3/website/src/sled.js"],"names":["axios","require","Sled","constructor","gifts","isDelivering","isTooHeavy","gift","sum","i","length","weight","displaySled","str","name","deliver","test","post","console","log","err"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,OAAO,MAAMC,IAAN,CAAW;AACdC,EAAAA,WAAW,GAAG;AACV,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,YAAL,GAAoB,KAApB;AACH;;AAEDC,EAAAA,UAAU,CAACC,IAAD,EAAO;AACb,QAAIC,GAAG,GAAG,CAAV;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKL,KAAL,CAAWM,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxCD,MAAAA,GAAG,IAAI,KAAKJ,KAAL,CAAWK,CAAX,EAAcE,MAArB;AACH;;AACDH,IAAAA,GAAG,IAAID,IAAI,CAACI,MAAZ;;AACA,QAAIH,GAAG,IAAI,EAAX,EAAe;AACX,aAAO,KAAP;AACH,KAFD,MAEO;AACH,aAAO,IAAP;AACH;AACJ;;AAEDI,EAAAA,WAAW,GAAG;AACV,QAAIC,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKL,KAAL,CAAWM,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxCI,MAAAA,GAAG,IAAI,gBAAgBJ,CAAC,GAAG,CAApB,IAAyB,KAAzB,GAAiC,KAAKL,KAAL,CAAWK,CAAX,EAAcN,WAAd,CAA0BW,IAA3D,GAAkE,OAAzE;AACH;;AACD,WAAOD,GAAP;AACH;;AAED,QAAME,OAAN,GAAgB;AACZ,SAAKV,YAAL,GAAoB,IAApB;;AACA,QAAG;AACC,UAAIW,IAAI,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAW,uBAAX,EAAoC;AACjDb,QAAAA,KAAK,EAAE,KAAKA;AADqC,OAApC,CAAjB;AAGAc,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACH,KALD,CAKC,OAAMI,GAAN,EAAU,CAEV,CATW,CAUZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGC;;AApDS,C,CAuDX;AACC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["const axios = require('axios');\nexport class Sled {\n    constructor() {\n        this.gifts = []\n        this.isDelivering = false;\n    }\n\n    isTooHeavy(gift) {\n        let sum = 0\n        for (let i = 0; i < this.gifts.length; i++) {\n            sum += this.gifts[i].weight\n        }\n        sum += gift.weight\n        if (sum <= 12) {\n            return false\n        } else {\n            return true\n        }\n    }\n\n    displaySled() {\n        let str = \"\"\n        for (let i = 0; i < this.gifts.length; i++) {\n            str += \"<li> Gift \" + (i + 1) + \" : \" + this.gifts[i].constructor.name + \"</li>\"\n        }\n        return str\n    }\n\n    async deliver() {\n        this.isDelivering = true;\n        try{\n            let test = await axios.post('http://localhost:8081', {\n                gifts: this.gifts\n            })\n            console.log(test)\n        }catch(err){\n\n        }\n        // axios.post('http://localhost:8081', {\n        //         gifts: this.sled.gifts\n        //     })\n        //     .then(function () {\n        //         this.gifts = []\n        //         $('#Sled').html(\"\")\n        //         this.isDelivering = false;\n        //         return this.message = \"Gifts have been delivered\"\n        //     })\n        //     .catch(function () {\n        //         isDelivering = false;\n        //         return this.message = \"These stupids reindeers are hungry, try again !\"\n        //     });\n\n\n        }\n    }\n\n       //     if (!this.isDelivering) {\n        //         if (this.gifts.length > 0) {\n        //             this.isDelivering = true;\n        //             axios.post('http://localhost:8081', {\n        //                     gifts: this.gifts\n        //                 })\n        //                 .then(function () {\n        //                     this.gifts = []\n        //                     $('#Sled').html(\"\")\n        //                     $('#Result').html(\"Gifts have been delivered\")\n        //                     this.isDelivering = false;\n        //                 })\n        //                 .catch(function () {\n        //                     isDelivering = false;\n        //                     $('#Result').html(\"These stupids reindeers are hungry, try again !\")\n        //                 });\n        //         } else {\n        //             $('#Result').html(\"Sled empty\")\n        //         }\n        //     } else {\n        //         $('#Result').html(\"Reindeers are delivering !\")\n        //     }}"]},"metadata":{},"sourceType":"module"}