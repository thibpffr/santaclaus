{"ast":null,"code":"// you can import css in your js file!\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css'; // If you want to use jquery\n\nimport $ from 'jquery';\n\nconst axios = require('axios'); // TODO\n\n\nlet sled = [];\n$(document).ready(function () {\n  $('#Small').click(function () {\n    const smallGift = giftFactory(\"Small\");\n    smallGift.prepareGift();\n    $('#Text').html(addGift(smallGift));\n    $('#Sled').html(displaySled());\n  });\n  $('#Normal').click(async function () {\n    const normalGift = giftFactory(\"Normal\");\n    await normalGift.prepareGift();\n    $('#Text').html(addGift(normalGift));\n    $('#Sled').html(displaySled());\n  });\n  $('#Big').click(function () {\n    const bigGift = giftFactory(\"Big\");\n    bigGift.prepareGift();\n    $('#Text').html(addGift(bigGift));\n    $('#Sled').html(displaySled());\n  });\n  $('#Deliver').click(function () {\n    deliver();\n  });\n});\n\nfunction displaySled() {\n  let str = \"\";\n\n  for (let i = 0; i < sled.length; i++) {\n    str += \"<li> Gift \" + (i + 1) + \" : \" + sled[i].constructor.name + \"</li>\";\n  }\n\n  return str;\n}\n\nfunction addGift(gift) {\n  let sum = 0;\n\n  for (let i = 0; i < sled.length; i++) {\n    sum += sled[i].weight;\n  }\n\n  sum += gift.weight;\n\n  if (sum <= 12) {\n    sled.push(gift);\n    return \"ok\";\n  } else {\n    return \"it's to heavy\";\n  }\n}\n\nfunction deliver() {\n  axios.post('http://localhost:8081', {\n    gifts: sled\n  }).then(function (response) {\n    sled = [];\n    $('#Sled').html(\"\");\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nclass Gift {\n  constructor(weight, preparation_time) {\n    this.weight = weight;\n    this.preparation_time = preparation_time;\n  }\n\n  prepareGift() {\n    preparation();\n  }\n\n}\n\nconst isFinished = async () => {\n  // Call evenRandomIntPromise, which will get a random value between 0 and 49 after 2 seconds\n  // - if the random number is even, display the value\n  // - if is is odd, show an error in the console with the sentence : 'Value [x] is not even!'\n  try {\n    console.log((await preparation()));\n  } catch (err) {\n    console.error('Value ' + err + ' is not even!');\n    return 'Check your console';\n  }\n};\n\nfunction preparation() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log(\"test\");\n      resolve(\"test\"); // if (value % 2 === 0) {\n      //     resolve(value)\n      // }\n      // else {\n      //     reject(value)\n      // }\n    }, 2000);\n  });\n}\n\nclass SmallGift extends Gift {\n  constructor() {\n    super(1, 0.5);\n  }\n\n}\n\nclass NormalGift extends Gift {\n  constructor() {\n    super(2, 1);\n  }\n\n}\n\nclass BigGift extends Gift {\n  constructor() {\n    super(5, 2);\n  }\n\n}\n\nconst giftFactory = type => {\n  switch (type) {\n    case \"Small\":\n      return new SmallGift();\n\n    case \"Normal\":\n      return new NormalGift();\n\n    case \"Big\":\n      return new BigGift();\n\n    default:\n      return null;\n  }\n};","map":{"version":3,"sources":["/Users/antoinemassy/Desktop/A3/TechnoWebAdv/lab3/website/src/index.js"],"names":["$","axios","require","sled","document","ready","click","smallGift","giftFactory","prepareGift","html","addGift","displaySled","normalGift","bigGift","deliver","str","i","length","constructor","name","gift","sum","weight","push","post","gifts","then","response","console","log","catch","error","Gift","preparation_time","preparation","isFinished","err","Promise","resolve","reject","setTimeout","SmallGift","NormalGift","BigGift","type"],"mappings":"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","sourcesContent":["// you can import css in your js file!\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './index.css'\n// If you want to use jquery\nimport $ from 'jquery'\nconst axios = require('axios');\n\n// TODO\nlet sled = []\n\n$(document).ready(function () {\n    $('#Small').click(function () {\n        const smallGift = giftFactory(\"Small\")\n        smallGift.prepareGift()\n        $('#Text').html(addGift(smallGift));\n        $('#Sled').html(displaySled())\n    });\n\n    $('#Normal').click(async function () {\n        const normalGift = giftFactory(\"Normal\")\n        await normalGift.prepareGift() \n        $('#Text').html(addGift(normalGift));\n        $('#Sled').html(displaySled())\n    });\n\n    $('#Big').click(function () {\n        const bigGift = giftFactory(\"Big\")\n        bigGift.prepareGift()\n        $('#Text').html(addGift(bigGift));\n        $('#Sled').html(displaySled())\n    });\n\n    $('#Deliver').click(function () {\n         deliver()\n    });\n});\n\nfunction displaySled(){\n    let str =\"\"\n    for (let i = 0; i < sled.length; i++) {\n        str += \"<li> Gift \"+(i+1)+ \" : \" + sled[i].constructor.name +\"</li>\"\n    }\n    return str\n}\n\nfunction addGift(gift) {\n    let sum =0\n    for (let i = 0; i < sled.length; i++) {\n        sum += sled[i].weight\n    }\n    sum+=gift.weight\n    if(sum<=12){\n        sled.push(gift)\n        return \"ok\"\n    }\n    else{\n        return \"it's to heavy\"\n    }\n}\n\nfunction deliver(){\n    axios.post('http://localhost:8081', {\n        gifts : sled\n      })\n      .then(function (response) {\n        sled=[]\n        $('#Sled').html(\"\")\n        console.log(response);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n}\n\n\nclass Gift {\n    constructor(weight, preparation_time) {\n        this.weight = weight\n        this.preparation_time = preparation_time\n    }\n\n    prepareGift() {\n        preparation()\n    }\n\n}\n\nconst isFinished = async () => {\n    // Call evenRandomIntPromise, which will get a random value between 0 and 49 after 2 seconds\n    // - if the random number is even, display the value\n    // - if is is odd, show an error in the console with the sentence : 'Value [x] is not even!'\n\n    try{\n       console.log(await preparation());\n    }catch(err){\n        console.error('Value ' + err +' is not even!')\n        return 'Check your console'\n    }\n    \n}\nfunction preparation() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            console.log(\"test\")\n            resolve(\"test\")\n            // if (value % 2 === 0) {\n            //     resolve(value)\n            // }\n            // else {\n            //     reject(value)\n            // }\n\n        }, 2000)\n    })\n}\n\n\n\n\n\nclass SmallGift extends Gift {\n    constructor() {\n        super(1, 0.5)\n    }\n}\n\nclass NormalGift extends Gift {\n    constructor() {\n        super(2, 1)\n    }\n}\n\nclass BigGift extends Gift {\n    constructor() {\n        super(5, 2)\n    }\n}\n\n\nconst giftFactory = (type) => {\n    switch (type) {\n        case \"Small\":\n            return new SmallGift();\n        case \"Normal\":\n            return new NormalGift();\n        case \"Big\":\n            return new BigGift();\n        default:\n            return null;\n    }\n}"]},"metadata":{},"sourceType":"module"}